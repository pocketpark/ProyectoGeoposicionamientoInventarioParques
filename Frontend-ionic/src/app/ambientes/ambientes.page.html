<ion-header>
  <ion-toolbar>
    <ion-title>
      <!--ambientes-->
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card class="espacio">
    <ion-item>
      <ion-label>Seleccione un Ambiente</ion-label>
      <ion-select [(ngModel)]="ambiente" name="ambiente" okText="Aceptar" cancelText="Cancelar">
        <ion-select-option *ngFor='let item of ambienteArreglo' value="{{item.id}}">{{item.zona}}</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item *ngIf="this.ambiente!=''">
      <ion-label>Estado</ion-label>
      <ion-icon name="add-circle"></ion-icon>
      <ion-select [(ngModel)]="estadoAmbiente" name="estadoAmbiente" okText="Aceptar" cancelText="Cancelar">
          <ion-select-option *ngFor='let item of estadoArreglo' value="{{item.valor}}">
            {{item.valor}}
            <ion-item *ngIf="this.ambiente!=''"><img src="../../assets/icon/favicon.png"></ion-item>

          </ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item *ngIf="this.estadoAmbiente!=''">
      <ion-label type='text'>GeoReferenciar</ion-label>
      <ion-icon name="locate" (click)='getUserLocation(true)'></ion-icon>
    </ion-item>
      <agm-map *ngIf='this.showPark' [latitude]="lat" [longitude]="lng">
        <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
      </agm-map>
    <ion-item *ngIf="this.estadoAmbiente!=''">
      <ion-label>Coordenada lng</ion-label>
      <!-- quitar el value y hacer la funcion de la geo refenrenciacion,con la api y asi tome el valor en el input-->
      <ion-input disabled value='{{lng}}' [(ngModel)]="coordenasX" name="coordenasX"></ion-input>
    </ion-item>
    <ion-item *ngIf="this.estadoAmbiente!=''">
      <ion-label>Coordenada lat</ion-label>
      <!-- quitar el value y hacer la funcion de la geo refenrenciacion,con la api y asi tome el valor en el input-->
      <ion-input disabled value='{{lat}}' [(ngModel)]="coordenasY" name="coordenasY"></ion-input>
    </ion-item>
    <ion-item *ngIf="this.estadoAmbiente!=''">
      <ion-label type='text'>Tomar Foto</ion-label>
      <ion-icon (click)="tomarFoto()" name="camera"></ion-icon>
      <ion-item>
        <ion-checkbox disabled></ion-checkbox>
      </ion-item>
    </ion-item>
    <ion-item *ngIf="this.estadoAmbiente!=''">
      <ion-label type='text'>Novedad</ion-label>
      <ion-textarea [(ngModel)]="novedad" name="novedad"
        placeholder="Si evidencia alguna novedad, por favor registrarla. =)"></ion-textarea>
    </ion-item>
    <ion-button class='botonregistro' (click)="irVistaParque()" name="Cancelar" color="primary">Cancelar</ion-button>
    <ion-button class='botonregistro' (click)="validarFormulario()" name="VistaParque" color="primary">Registrar
    </ion-button>
  </ion-card>
</ion-content>